---
layout: post
title: 
date: 2020-10-31 18:31
category: 
author: 
tags: []
summary: 
---

## driver

* driver custom struct
  * `module_init`, `module_exit`
  * store `cdev`
* inode
  * only one inode for each file, but multiple filp can exist
  * `dev_t`?
  * `cdev *` how about other type?
* filp: file descriptor
  * `void *private_data`
    * usually set to the driver's custom struct
  * `struct file_operations *f_op`
    * store pointer syscall implementation

### present status

* generate `/proc` file: not recommanded because proc should only be about process
* seq_file: 
* ioctl: transmit data to user space when asked
* sysfs:

### ioctl

* command number
* command struct

### char device

* sequential access
* `cdev_init`

## access control

* uid, gid
* capability
* namespace?
  * change visibility of services
  * mnt, pid, net, ipc, UTS, user, cgroup, time
* cgroup?
  * limit resource usage

## todo

* https://blog.yadutaf.fr/2013/12/28/introduction-to-linux-namespaces-part-2-ipc/

* https://refspecs.linuxfoundation.org/

### device

https://www.kernel.org/doc/Documentation/admin-guide/devices.txt
