---
layout: post
title: 
date: 2020-05-01 13:59
category: 
author: 
tags: []
summary: 
---

[redhat performance tuning guide](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/performance_tuning_guide/index)
[osc collection](https://www.osc.edu/resources/getting_started/howto/howto_collect_performance_data_for_your_program)
[osc tuning](https://www.osc.edu/resources/getting_started/howto/howto_tune_performance)

```
ltrace: trace library call
strace: trace syscall
vtune
```

## tool

* valgrind
  * memcheck(default), cachegrind(cache and branch prediction), callgrind(cachegrind + call graph)
  * Helgrind, DRD, Massif(heap profiler?), DHAT

## memory 

[huge tlb](https://www.kernel.org/doc/html/latest/admin-guide/mm/hugetlbpage.html)
transparent huge pages (THP)

## pcie

https://blog.scottlowe.org/2009/12/02/what-is-sr-iov/
https://dshcherb.github.io/2019/02/02/interpreting-pcie-device-to-cpu-locality-information.html

Single Root I/O Virtualization (SR-IOV)

Physial Function: actual pcie device
* 
Virtual Function

## parallel

* fail-stop faults
* split brain

https://support.ceci-hpc.be/doc/_contents/QuickStart/SubmittingJobs/SlurmTutorial.html

https://kubernetes.io/blog/2018/11/07/grpc-load-balancing-on-kubernetes-without-tears/

load balancing of http/2
https://www.nginx.com/blog/nginx-1-13-10-grpc/

## disk

`/sys/block/sda/queue/nr_requests`: increment block layer queue depth
`/sys/block/sda/queue/rotational`: turn off seek reordering for ssd
`/sys/block/sda/queue/rq_affinity`
`/sys/block/sda/queue/scheduler`

`/sys/block/sda/device/queue_depth`: increment driver queue depth

[queue sysfs](https://www.kernel.org/doc/Documentation/block/queue-sysfs.txt)
[tuning guide](https://www.broadcom.com/support/knowledgebase/1211161498420/performance-tuning-on-the-mr-sas-2108-lsi-sas-2208-sas-3108-base)
[smp affinity](https://www.broadcom.com/support/knowledgebase/1211161499716/configuring-smp-affinity-in-linux)

## executable packer

[UPX](https://github.com/upx/upx)

## mpi

openmpi
mpich
http://mvapich.cse.ohio-state.edu/
https://www.mpi-forum.org/docs/

## executable packer

[UPX](https://github.com/upx/upx)

## nvidia

CUPTI 
nvprof
Visual Profiler (nvvp)
nsight

## high performance?

openshmem?
pgas Partitioned global address space
http://openshmem.org/site/
