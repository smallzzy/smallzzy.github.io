---
layout: post
title: GDB Usage
date: 2019-10-02 15:30
category: 
author: 
tags: [compile]
summary: 
---

* backtrace: print stack
* catch: catch various event
  * throw, catch: for c++ exception

https://stackoverflow.com/questions/6835728/how-to-break-when-a-specific-exception-type-is-thrown-in-gdb

## shared library

```
gdb 
  attach
  set auto-solib-add 0
  set solib-search-path
  set stop-on-solib-events 1
  shar <solib name>
  info shar
```

Note:
* if you do not load symbol, pending breakpoint will not be found

## source directory

```
dir
show dir
```

## remote debug

```
gdbserver comm program [ args â€¦ ]
  comm is the how it communicate with gdb
  can be device name or tcp host
    localhost:4444

gdb
  target remote targethost:4444
  monitor exit
```

## split view

<kbd>Ctrl</kbd>+<kbd>x</kbd> <kbd>a</kbd>

```
gdbtui / gdb -tui
```

## load plugin & pretty print

```
show auto-load
info auto-load
show data-directory
```

For local target, the auto load will be performed when a matching obj is loaded.

For remote target:

One possible solution is to set sysroot. So, auto-load is triggered on local target

Otherwise, run the following scripts in gdb console to load.

```python
python
import sys
sys.path.insert(0, "/usr/share/gcc-8/python")
from libstdcxx.v6 import register_libstdcxx_printers
register_libstdcxx_printers(None)
end
```
